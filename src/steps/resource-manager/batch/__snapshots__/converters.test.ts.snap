// Jest Snapshot v1, https://goo.gl/fbAQLP

exports[`createBatchAccountEntity properties transferred 1`] = `
Object {
  "_class": Array [
    "Service",
  ],
  "_key": "/subscriptions/40474ebe-55a2-4071-8fa8-b610acdd8e56/resourceGroups/j1dev/providers/Microsoft.Batch/batchAccounts/j1devbatchaccount",
  "_rawData": Array [
    Object {
      "name": "default",
      "rawData": Object {
        "accountEndpoint": "j1devbatchaccount.eastus.batch.azure.com",
        "activeJobAndJobScheduleQuota": 100,
        "autoStorage": Object {
          "lastKeySync": 2020-09-25T23:45:28.358Z,
          "storageAccountId": "/subscriptions/40474ebe-55a2-4071-8fa8-b610acdd8e56/resourceGroups/j1dev/providers/Microsoft.Storage/storageAccounts/keionnedj1dev",
        },
        "dedicatedCoreQuota": 20,
        "id": "/subscriptions/40474ebe-55a2-4071-8fa8-b610acdd8e56/resourceGroups/j1dev/providers/Microsoft.Batch/batchAccounts/j1devbatchaccount",
        "location": "eastus",
        "lowPriorityCoreQuota": 10,
        "name": "j1devbatchaccount",
        "poolAllocationMode": "BatchService",
        "poolQuota": 20,
        "provisioningState": "Succeeded",
        "type": "Microsoft.Batch/batchAccounts",
      },
    },
  ],
  "_type": "azure_batch_account",
  "accountEndpoint": "j1devbatchaccount.eastus.batch.azure.com",
  "activeJobAndJobScheduleQuota": 100,
  "category": Array [
    "infrastructure",
  ],
  "createdOn": undefined,
  "dedicatedCoreQuota": 20,
  "displayName": "j1devbatchaccount",
  "id": "/subscriptions/40474ebe-55a2-4071-8fa8-b610acdd8e56/resourceGroups/j1dev/providers/Microsoft.Batch/batchAccounts/j1devbatchaccount",
  "location": "eastus",
  "lowPriorityCoreQuota": 10,
  "name": "j1devbatchaccount",
  "poolAllocationMode": "BatchService",
  "poolQuota": 20,
  "provisioningState": "Succeeded",
  "type": "Microsoft.Batch/batchAccounts",
  "webLink": "https://portal.azure.com/#@something.onmicrosoft.com/resource/subscriptions/40474ebe-55a2-4071-8fa8-b610acdd8e56/resourceGroups/j1dev/providers/Microsoft.Batch/batchAccounts/j1devbatchaccount",
}
`;

exports[`createBatchApplicationEntity properties transferred 1`] = `
Object {
  "_class": Array [
    "Process",
  ],
  "_key": "j1devbatchapplication",
  "_rawData": Array [
    Object {
      "name": "default",
      "rawData": Object {
        "allowUpdates": true,
        "displayName": "",
        "id": "j1devbatchapplication",
        "packages": Array [],
      },
    },
  ],
  "_type": "azure_batch_application",
  "allowUpdates": true,
  "createdOn": undefined,
  "displayName": "",
  "id": "j1devbatchapplication",
  "name": "",
  "webLink": "https://portal.azure.com/#@something.onmicrosoft.com/resourcej1devbatchapplication",
}
`;

exports[`createBatchPoolEntity properties transferred 1`] = `
Object {
  "_class": Array [
    "Cluster",
  ],
  "_key": "/subscriptions/40474ebe-55a2-4071-8fa8-b610acdd8e56/resourceGroups/j1dev/providers/Microsoft.Batch/batchAccounts/j1devbatchaccount/pools/j1devbatchpool",
  "_rawData": Array [
    Object {
      "name": "default",
      "rawData": Object {
        "allocationState": "Steady",
        "allocationStateTransitionTime": 2020-09-26T00:04:02.868Z,
        "autoScaleRun": Object {
          "evaluationTime": 2020-09-26T03:30:46.770Z,
          "results": "$TargetDedicatedNodes=0;$TargetLowPriorityNodes=0;$NodeDeallocationOption=requeue;maxNumberofVMs=2;pendingTaskSamplePercent=100;pendingTaskSamples=0;startingNumberOfVMs=1",
        },
        "creationTime": 2020-09-25T23:45:46.672Z,
        "currentDedicatedNodes": 0,
        "currentLowPriorityNodes": 0,
        "deploymentConfiguration": Object {
          "virtualMachineConfiguration": Object {
            "imageReference": Object {
              "offer": "ubuntu-server-container",
              "publisher": "microsoft-azure-batch",
              "sku": "16-04-lts",
              "version": "latest",
            },
            "nodeAgentSkuId": "batch.node.ubuntu 16.04",
          },
        },
        "displayName": "J1 Dev Batch Account Pool",
        "etag": "W/\\"0x8D861AF3884EB47\\"",
        "id": "/subscriptions/40474ebe-55a2-4071-8fa8-b610acdd8e56/resourceGroups/j1dev/providers/Microsoft.Batch/batchAccounts/j1devbatchaccount/pools/j1devbatchpool",
        "interNodeCommunication": "Disabled",
        "lastModified": 2020-09-26T00:00:46.833Z,
        "maxTasksPerNode": 1,
        "name": "j1devbatchpool",
        "provisioningState": "Succeeded",
        "provisioningStateTransitionTime": 2020-09-25T23:45:46.672Z,
        "resizeOperationStatus": Object {
          "nodeDeallocationOption": "Requeue",
          "resizeTimeout": "PT15M",
          "startTime": 2020-09-26T00:00:46.833Z,
          "targetDedicatedNodes": 0,
        },
        "scaleSettings": Object {
          "autoScale": Object {
            "evaluationInterval": "PT15M",
            "formula": "       startingNumberOfVMs = 1;
            maxNumberofVMs = 2;
      pendingTaskSamplePercent = $PendingTasks.GetSamplePercent(180 * TimeInterval_Second);
      pendingTaskSamples = pendingTaskSamplePercent < 70 ? startingNumberOfVMs : avg($PendingTasks.GetSample(180 * TimeInterval_Second));
      $TargetDedicatedNodes=min(maxNumberofVMs, pendingTaskSamples);",
          },
        },
        "startTask": Object {
          "commandLine": "echo 'Hello j1dev batch account'",
          "maxTaskRetryCount": 1,
          "userIdentity": Object {
            "autoUser": Object {
              "elevationLevel": "NonAdmin",
              "scope": "Task",
            },
          },
          "waitForSuccess": true,
        },
        "taskSchedulingPolicy": Object {
          "nodeFillType": "Spread",
        },
        "vmSize": "STANDARD_A1",
      },
    },
  ],
  "_type": "azure_batch_pool",
  "allocationState": "Steady",
  "createdOn": 1601077546672,
  "currentDedicatedNodes": 0,
  "currentLowPriorityNodes": 0,
  "displayName": "J1 Dev Batch Account Pool",
  "etag": "W/\\"0x8D861AF3884EB47\\"",
  "id": "/subscriptions/40474ebe-55a2-4071-8fa8-b610acdd8e56/resourceGroups/j1dev/providers/Microsoft.Batch/batchAccounts/j1devbatchaccount/pools/j1devbatchpool",
  "interNodeCommunication": "Disabled",
  "maxTasksPerNode": 1,
  "name": "j1devbatchpool",
  "provisioningState": "Succeeded",
  "type": undefined,
  "vmSize": "STANDARD_A1",
  "webLink": "https://portal.azure.com/#@something.onmicrosoft.com/resource/subscriptions/40474ebe-55a2-4071-8fa8-b610acdd8e56/resourceGroups/j1dev/providers/Microsoft.Batch/batchAccounts/j1devbatchaccount/pools/j1devbatchpool",
}
`;
